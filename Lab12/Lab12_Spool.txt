SQL> START "D:\Marissa\indo_n2.sql";
SQL> Begin
  2  for c in (select table_name from user_tables) loop
  3  execute immediate ('drop table '||c.table_name||' cascade constraints');
  4  end loop;
  5  End;
  6  /

PL/SQL procedure successfully completed.

SQL> 
SQL> CREATE TABLE student
  2  	     (StudentId      CHAR (5),
  3  	     Last	     VARCHAR2 (15) CONSTRAINT student_last_nn NOT NULL,
  4  	     First	     VARCHAR2 (15) CONSTRAINT student_first_nn NOT NULL,
  5  	     Street	     VARCHAR2 (25),
  6  	     City	     VARCHAR2 (15),
  7  	     State	     CHAR (2) DEFAULT 'NJ',
  8  	     Zip	     CHAR (5),
  9  	     StartTerm	     CHAR (4),
 10  	     BirthDate	     DATE,
 11  	     FacultyId	     NUMBER (3),
 12  	     MajorId	     NUMBER (3),
 13  	     Phone	     CHAR (10),
 14  	     CONSTRAINT student_studentid_pk PRIMARY KEY (StudentID));

Table created.

SQL> 
SQL> CREATE TABLE faculty
  2  	     (FacultyId      NUMBER (3),
  3  	     Name	     VARCHAR2 (15) CONSTRAINT faculty_name_nn NOT NULL,
  4  	     RoomId	     NUMBER (2),
  5  	     Phone	     CHAR (3) CONSTRAINT faculty_phone_uk UNIQUE,
  6  	     DeptId	     NUMBER (1),
  7  	     CONSTRAINT faculty_facultyid_pk PRIMARY KEY (FacultyId));

Table created.

SQL> 
SQL> CREATE TABLE course
  2  	     (CourseId	     VARCHAR2 (6),
  3  	     Title	     VARCHAR2 (20) CONSTRAINT course_title_uk UNIQUE,
  4  	     Credits	     NUMBER (1) CONSTRAINT course_credits_ck CHECK ((credits>=0) AND (credits<=4)),
  5  	     PreReq	     VARCHAR2(6),
  6  	     CONSTRAINT course_courseid_pk PRIMARY KEY (CourseId));

Table created.

SQL> 
SQL> CREATE TABLE crssection
  2  	     (CsId	     NUMBER (4),
  3  	     CourseId	     VARCHAR2 (6) CONSTRAINT crssection_courseid_nn NOT NULL,
  4  	     Section	     CHAR (2) CONSTRAINT crsssection_section_nn NOT NULL,
  5  	     TermId	     CHAR (4) CONSTRAINT crssection_termid_nn NOT NULL,
  6  	     FacultyId	     NUMBER (3),
  7  	     Day	     VARCHAR2 (2),
  8  	     StartTime	     VARCHAR2 (5),
  9  	     EndTime	     VARCHAR2 (5),
 10  	     RoomId	     NUMBER (2),
 11  	     MaxCount	     NUMBER (2) CONSTRAINT crssection_maxcount_ck CHECK (MaxCount > 0),
 12  	     CONSTRAINT crssection_csid_pk PRIMARY KEY (CsId));

Table created.

SQL> 
SQL> CREATE TABLE registration
  2  	     (StudentId      CHAR (5),
  3  	     CsId	     NUMBER (4),
  4  	     Midterm	     CHAR CONSTRAINT registration_midterm_ck CHECK (MidTerm IN ('A', 'B', 'C', 'D', 'F', 'W')),
  5  	     Final	     CHAR CONSTRAINT registration_final_ck CHECK (final IN ('A', 'B', 'C', 'D', 'I', 'F', 'W')),
  6  	     RegStatus	     CHAR CONSTRAINT reg_status_ck CHECK (RegStatus in ('X', 'R', 'W')),
  7  	     CONSTRAINT registration_stuid_csid_pk
  8  		     PRIMARY KEY (StudentId, CsId));

Table created.

SQL> 
SQL> CREATE TABLE room
  2  	     (RoomType	     CHAR,
  3  	     RoomDesc	     VARCHAR2 (9),
  4  	     CONSTRAINT room_roomtype_pk PRIMARY KEY (RoomType));

Table created.

SQL> 
SQL> 
SQL> CREATE TABLE term
  2  	     (TermId	     CHAR (4),
  3  	     TermDesc	     VARCHAR2 (11),
  4  	     StartDate	     DATE,
  5  	     EndDate	     DATE,
  6  	     CONSTRAINT term_termid_pk PRIMARY KEY (TermId));

Table created.

SQL> 
SQL> CREATE TABLE location
  2  	     (RoomId	     NUMBER (2),
  3  	     Building	     VARCHAR2 (7) CONSTRAINT location_bulding_nn NOT NULL,
  4  	     RoomNo	     CHAR (3) CONSTRAINT location_roomno_nn NOT NULL,
  5  	     Capacity	     NUMBER (2) CONSTRAINT location_capacity_check CHECK(Capacity>0),
  6  	     RoomType	     CHAR,
  7  	     CONSTRAINT location_roomid_pk PRIMARY KEY (RoomId),
  8  	     CONSTRAINT location_roomno_uk UNIQUE (RoomNo));

Table created.

SQL> 
SQL> CREATE TABLE major
  2  	     (MajorId	     NUMBER (3),
  3  	     MajorDesc	     VARCHAR2 (25),
  4  	     CONSTRAINT major_majored_pk PRIMARY KEY (MajorId));

Table created.

SQL> 
SQL> CREATE TABLE department
  2  	     (DeptId	     NUMBER (1),
  3  	     DeptName	     VARCHAR2 (20),
  4  	     FacultyId	     NUMBER (3),
  5  	     CONSTRAINT department_deptid_pk PRIMARY KEY (DeptId));

Table created.

SQL> 
SQL> ALTER TABLE student
  2  ADD CONSTRAINT student_facultyid_fk FOREIGN KEY (FacultyId)
  3  	     REFERENCES faculty (FacultyId);

Table altered.

SQL> 
SQL> ALTER TABLE student
  2  ADD CONSTRAINT student_majorid_fk FOREIGN KEY (MajorId)
  3  	     REFERENCES major (MajorId);

Table altered.

SQL> 
SQL> ALTER TABLE student
  2  ADD CONSTRAINT student_startterm_fk FOREIGN KEY (StartTerm)
  3  	     REFERENCES term (TermId);

Table altered.

SQL> 
SQL> ALTER TABLE faculty
  2  ADD CONSTRAINT faculty_roomid_fk FOREIGN KEY (RoomId)
  3  	     REFERENCES location (RoomId);

Table altered.

SQL> 
SQL> ALTER TABLE faculty
  2  ADD CONSTRAINT faculty_deptid_fk FOREIGN KEY (DeptId)
  3  	     REFERENCES department (DeptId);

Table altered.

SQL> 
SQL> ALTER TABLE crssection
  2  ADD CONSTRAINT crssection_courseid_fk FOREIGN KEY (CourseId)
  3  	     REFERENCES course (CourseId);

Table altered.

SQL> 
SQL> ALTER TABLE crssection
  2  ADD CONSTRAINT crssection_termid_fk FOREIGN KEY (TermId)
  3  	     REFERENCES term (TermId);

Table altered.

SQL> 
SQL> ALTER TABLE crssection
  2  ADD CONSTRAINT crssection_facultyid_fk FOREIGN KEY (FacultyId)
  3  	     REFERENCES faculty (FacultyId);

Table altered.

SQL> 
SQL> ALTER TABLE crssection
  2  ADD CONSTRAINT crssection_roomid_fk FOREIGN KEY (RoomId)
  3  	     REFERENCES location (RoomId);

Table altered.

SQL> 
SQL> ALTER TABLE registration
  2  ADD CONSTRAINT registration_studentid_fk FOREIGN KEY (StudentId)
  3  	     REFERENCES student (StudentId);

Table altered.

SQL> 
SQL> ALTER TABLE registration
  2  ADD CONSTRAINT registration_csid_fk FOREIGN KEY (CsId)
  3  	     REFERENCES crssection (CsId);

Table altered.

SQL> 
SQL> ALTER TABLE location
  2  ADD CONSTRAINT location_roomtype_fk FOREIGN KEY (RoomType)
  3  	     REFERENCES ROOM (RoomType);

Table altered.

SQL> 
SQL> INSERT INTO course VALUES ('EN100', 'Basic English', 0, '');

1 row created.

SQL> INSERT INTO course VALUES ('LA123', 'English Literature', 3, 'EN100');

1 row created.

SQL> INSERT INTO course VALUES ('CIS253', 'Database Systems', 3, '');

1 row created.

SQL> INSERT INTO course VALUES ('CIS265', 'Systems Analysis', 3, 'CIS253');

1 row created.

SQL> INSERT INTO course VALUES ('MA150', 'College Algebra', 3, '');

1 row created.

SQL> INSERT INTO course VALUES ('AC101', 'Accounting', 3, '');

1 row created.

SQL> 
SQL> INSERT INTO room VALUES ('L', 'Lab');

1 row created.

SQL> INSERT INTO room VALUES ('C', 'Classroom');

1 row created.

SQL> INSERT INTO room VALUES ('O', 'Office');

1 row created.

SQL> 
SQL> INSERT INTO term VALUES ('SP02', 'Spring 2002', '28-APR-02', '16-AUG-02');

1 row created.

SQL> INSERT INTO term VALUES ('FL02', 'Fall 2002', '08-SEP-02', '20-DEC-02');

1 row created.

SQL> INSERT INTO term VALUES ('WN03', 'Winter 2003', '05-JAN-03', '18-APR-03');

1 row created.

SQL> INSERT INTO term VALUES ('SP03', 'Spring 2003', '27-APR-03', '15-AUG-03');

1 row created.

SQL> INSERT INTO term VALUES ('FL03', 'Fall 2003', '07-SEP-03', '19-DEC-03');

1 row created.

SQL> 
SQL> INSERT INTO major VALUES (100, 'AAS-Accounting');

1 row created.

SQL> INSERT INTO major VALUES (200, 'AAS-Computer Science');

1 row created.

SQL> INSERT INTO major VALUES (300, 'AAS-Telecommunications');

1 row created.

SQL> INSERT INTO major VALUES (400, 'BS-Accounting');

1 row created.

SQL> INSERT INTO major VALUES (500, 'BS-Computer Science');

1 row created.

SQL> INSERT INTO major VALUES (600, 'BS-Telecommunications');

1 row created.

SQL> 
SQL> INSERT INTO department VALUES (1, 'Computer Science', 111);

1 row created.

SQL> INSERT INTO department VALUES (2, 'Telecommunications', 222);

1 row created.

SQL> INSERT INTO department VALUES (3, 'Accounting', 333);

1 row created.

SQL> INSERT INTO department VALUES (4, 'Math and Science', 444);

1 row created.

SQL> INSERT INTO department VALUES (5, 'Liberal Arts', 555);

1 row created.

SQL> 
SQL> INSERT INTO location VALUES (11, 'Gandhi', 101, 2, 'O');

1 row created.

SQL> INSERT INTO location VALUES (12, 'Gandhi', 103, 2, 'O');

1 row created.

SQL> INSERT INTO location VALUES (13, 'Kennedy', 202, 35, 'L');

1 row created.

SQL> INSERT INTO location VALUES (14, 'Kennedy', 204, 50, 'L');

1 row created.

SQL> INSERT INTO location VALUES (15, 'Nehru', 301, 50, 'C');

1 row created.

SQL> INSERT INTO location VALUES (16, 'Nehru', 309, 45, 'C');

1 row created.

SQL> INSERT INTO location VALUES (17, 'Gandhi', 105, 2, 'O');

1 row created.

SQL> INSERT INTO location VALUES (18, 'Kennedy', 206, 40, 'L');

1 row created.

SQL> INSERT INTO location VALUES (19, 'Kennedy', 210, 30, 'L');

1 row created.

SQL> INSERT INTO location VALUES (20, 'Gandhi', 107, 2, 'O');

1 row created.

SQL> INSERT INTO location VALUES (21, 'Gandhi', 109, 2, 'O');

1 row created.

SQL> 
SQL> INSERT INTO faculty VALUES (111, 'Jones', 11, 525, 1);

1 row created.

SQL> INSERT INTO faculty VALUES (222, 'Williams', 20, 533, 2);

1 row created.

SQL> INSERT INTO faculty VALUES (123, 'Mobley', 11, 529, 1);

1 row created.

SQL> INSERT INTO faculty VALUES (235, 'Vajpayee', 12, 577, 2);

1 row created.

SQL> INSERT INTO faculty VALUES (345, 'Sen', 12, 579, 3);

1 row created.

SQL> INSERT INTO faculty VALUES (444, 'Rivera', 21, 544, 4);

1 row created.

SQL> INSERT INTO faculty VALUES (555, 'Chang', 17, 587, 5);

1 row created.

SQL> INSERT INTO faculty VALUES (333, 'Collins', 17, 599, 3);

1 row created.

SQL> 
SQL> INSERT INTO student VALUES ('00100', 'Diaz', 'Jose', '1 Ford Avenue #7',
  2  	     'Hill', 'NJ', '08863', 'WN03', TO_DATE ('02/12/1983', 'mm/dd/yyyy'),
  3  	     123, 100, '9735551111');

1 row created.

SQL> INSERT INTO student VALUES ('00101', 'Tyler', 'Mickey', '12 Morris Avenue',
  2  	     'Bronx', 'NY', '10468', 'SP03', TO_DATE ('03/18/1984', 'mm/dd/yyyy'),
  3  	     555, 500, '7185552222');

1 row created.

SQL> INSERT INTO student VALUES ('00102', 'Patel', 'Rajesh', '25 River Road #3',
  2  	     'Edison', 'NJ', '08837', 'WN03', TO_DATE ('12/12/1985', 'mm/dd/yyyy'),
  3  	     111, 400, '7325553333');

1 row created.

SQL> INSERT INTO student VALUES ('00103', 'Rickles', 'Deborah', '100 Main Street',
  2  	     'Iselin', 'NJ', '08838', 'FL02', TO_DATE ('10/20/1970', 'mm/dd/yyyy'),
  3  	     555, 500, '7325554444');

1 row created.

SQL> INSERT INTO student VALUES ('00104', 'Lee', 'Brian', '2845 First Lane',
  2  	     'Hope', 'NY', '11373', 'WN03', TO_DATE ('11/28/1985', 'mm/dd/yyyy'),
  3  	     333, 600, '2125555555');

1 row created.

SQL> INSERT INTO student VALUES ('00105', 'Khan', 'Amir', '213 Broadway',
  2  	     'Clifton', 'NJ', '07222', 'WN03', TO_DATE ('07/07/1984', 'mm/dd/yyyy'),
  3  	     222, 200, '2015556666');

1 row created.

SQL> 
SQL> INSERT INTO crssection VALUES (1101, 'CIS265', '01', 'WN03', 111, 'MW',
  2  				     '09:00', '10:30', 13, 30);

1 row created.

SQL> INSERT INTO crssection VALUES (1102, 'CIS253', '01', 'WN03', 123, 'TR',
  2  				     '09:00', '10:30', 18, 40);

1 row created.

SQL> INSERT INTO crssection VALUES (1103, 'MA150', '02', 'WN03', 444, 'F',
  2  				     '09:00', '12:00', 15, 25);

1 row created.

SQL> INSERT INTO crssection VALUES (1104, 'AC101', '10', 'WN03', 345, 'MW',
  2  				     '10:30', '12:00', 16, 35);

1 row created.

SQL> INSERT INTO crssection VALUES (1205, 'CIS265', '01', 'SP03', NULL, 'MW',
  2  				     '09:00', '10:30', 14, 35);

1 row created.

SQL> INSERT INTO crssection VALUES (1206, 'CIS265', '02', 'SP03', 111, 'TR',
  2  				     '09:00', '10:30', 18, 30);

1 row created.

SQL> INSERT INTO crssection VALUES (1207, 'LA123', '05', 'SP03', NULL, 'MW',
  2  				     '09:00', '10:30', 15, 30);

1 row created.

SQL> INSERT INTO crssection VALUES (1208, 'CIS253', '21', 'SP03', 123, 'TR',
  2  				     '09:00', '10:30', 14, 40);

1 row created.

SQL> INSERT INTO crssection VALUES (1209, 'CIS253', '11', 'SP03', 111, 'MW',
  2  				     '09:00', '10:30', 18, 40);

1 row created.

SQL> INSERT INTO crssection VALUES (1210, 'CIS253', '31', 'SP03', 123, 'F',
  2  				     'TBA', 'TBA', 19, 2);

1 row created.

SQL> 
SQL> INSERT INTO registration VALUES ('00100', 1103, 'C', 'F', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00100', 1102, 'B', 'B', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00100', 1104, 'B', 'A', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00102', 1102, 'F', 'D', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00102', 1103, 'A', 'A', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00103', 1101, 'F', 'W', 'W');

1 row created.

SQL> INSERT INTO registration VALUES ('00103', 1104, 'D', 'D', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00100', 1207, '', '', 'X');

1 row created.

SQL> INSERT INTO registration VALUES ('00103', 1206, '', '', 'W');

1 row created.

SQL> INSERT INTO registration VALUES ('00104', 1206, '', '', 'X');

1 row created.

SQL> INSERT INTO registration VALUES ('00104', 1207, '', '', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00104', 1210, '', '', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00105', 1208, '', '', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00105', 1209, '', '', 'X');

1 row created.

SQL> INSERT INTO registration VALUES ('00101', 1205, '', '', 'X');

1 row created.

SQL> INSERT INTO registration VALUES ('00102', 1210, '', '', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00102', 1207, '', '', 'R');

1 row created.

SQL> INSERT INTO registration VALUES ('00102', 1206, '', '', 'X');

1 row created.

SQL> 
SQL> 
SQL> ALTER TABLE course
  2  ADD CONSTRAINT course_prereq_fk FOREIGN KEY(PreReq)
  3  	     REFERENCES course(CourseId);

Table altered.

SQL> 
SQL> ALTER TABLE department
  2  ADD CONSTRAINT department_facultyid_fk FOREIGN KEY(FacultyId)
  3  	     REFERENCES faculty(FacultyId);

Table altered.

SQL> 
SQL> CREATE TABLE emplevel
  2  	     (LevelNo	     NUMBER (1),
  3  	     LowSalary	     NUMBER (6),
  4  	     HighSalary      NUMBER (6),
  5  	     CONSTRAINT emplevel_levelno_pk PRIMARY KEY (LevelNo));

Table created.

SQL> 
SQL> CREATE TABLE position
  2  	     (PositionId     NUMBER (1),
  3  	     PosDesc VARCHAR2 (10),
  4  	     CONSTRAINT position_positionid_pk PRIMARY KEY (PositionId));

Table created.

SQL> 
SQL> CREATE TABLE qualification
  2  	     (QualId NUMBER (1),
  3  	     QualDesc	     VARCHAR2 (11),
  4  	     CONSTRAINT qualification_qualid_pk PRIMARY KEY (QualId));

Table created.

SQL> 
SQL> CREATE TABLE dept
  2  	     (DeptId NUMBER (2),
  3  	     DeptName	     VARCHAR2 (12) NOT NULL,
  4  	     Location	     VARCHAR2 (15),
  5  	     EmployeeId      NUMBER (3),
  6  	     CONSTRAINT dept_deptid_pk PRIMARY KEY (DeptId));

Table created.

SQL> 
SQL> CREATE TABLE employee
  2  	     (EmployeeId    NUMBER (3),
  3  	     Lname	     VARCHAR2 (15) CONSTRAINT employee_lname_nn NOT NULL,
  4  	     Fname	     VARCHAR2 (15) CONSTRAINT employee_fname_nn NOT NULL,
  5  	     PositionId      NUMBER (1),
  6  	     Supervisor      NUMBER (3),
  7  	     HireDate	     DATE,
  8  	     Salary	     NUMBER (6),
  9  	     Commission      NUMBER (5),
 10  	     DeptId	     NUMBER (2) NOT NULL,
 11  	     QualId	     NUMBER (1),
 12  	     CONSTRAINT employee_employeeid_pk
 13  		     PRIMARY KEY (EmployeeId),
 14  	     CONSTRAINT employee_positionid_fk FOREIGN KEY (PositionId)
 15  		     REFERENCES position (PositionId),
 16  	     CONSTRAINT employee_deptid_fk FOREIGN KEY (DeptId)
 17  		     REFERENCES dept (DeptId),
 18  	     CONSTRAINT employee_qualid_fk FOREIGN KEY (QualId)
 19  		     REFERENCES qualification (QualId));

Table created.

SQL> 
SQL> CREATE TABLE dependent
  2  	     (EmployeeId     NUMBER (3),
  3  	     DependentId     NUMBER (1),
  4  	     DepDOB  DATE,
  5  	     Relation	     VARCHAR2 (8),
  6  	     CONSTRAINT dependent_empiddepid_pk PRIMARY KEY (EmployeeId, DependentId),
  7  	     CONSTRAINT dependent_employeeid_fk FOREIGN KEY (EmployeeId)
  8  		     REFERENCES employee (EmployeeId));

Table created.

SQL> 
SQL> INSERT INTO position VALUES (1, 'President');

1 row created.

SQL> INSERT INTO position VALUES (2, 'Manager');

1 row created.

SQL> INSERT INTO position VALUES (3, 'Programmer');

1 row created.

SQL> INSERT INTO position VALUES (4, 'Accountant');

1 row created.

SQL> INSERT INTO position VALUES (5, 'Salesman');

1 row created.

SQL> 
SQL> INSERT INTO emplevel VALUES (1, 1, 25000);

1 row created.

SQL> INSERT INTO emplevel VALUES (2, 25001, 50000);

1 row created.

SQL> INSERT INTO emplevel VALUES (3, 50001, 100000);

1 row created.

SQL> INSERT INTO emplevel VALUES (4, 100001, 500000);

1 row created.

SQL> 
SQL> INSERT INTO qualification VALUES (1, 'Doctorate');

1 row created.

SQL> INSERT INTO qualification VALUES (2, 'Masters');

1 row created.

SQL> INSERT INTO qualification VALUES (3, 'Bachelors');

1 row created.

SQL> INSERT INTO qualification VALUES (4, 'Associates');

1 row created.

SQL> INSERT INTO qualification VALUES (5, 'High School');

1 row created.

SQL> 
SQL> INSERT INTO dept VALUES (10, 'Finance', 'Charlotte', 123);

1 row created.

SQL> INSERT INTO dept VALUES (20, 'InfoSys', 'New York', 543);

1 row created.

SQL> INSERT INTO dept VALUES (30, 'Sales', 'Woodbridge', 135);

1 row created.

SQL> INSERT INTO dept VALUES (40, 'Marketing', 'Los Angeles', 246);

1 row created.

SQL> 
SQL> INSERT INTO employee VALUES (111, 'Smith', 'John', 1, NULL,
  2  	     TO_DATE ('04/15/1960', 'mm/dd/yyyy'), 265000, 35000, 10, 1);

1 row created.

SQL> INSERT INTO employee VALUES (246, 'Houston', 'Larry', 2, 111,
  2  	     TO_DATE ('05/19/1967', 'mm/dd/yyyy'), 150000, 10000, 40, 2);

1 row created.

SQL> INSERT INTO employee VALUES (123, 'Roberts', 'Sandi', 2, 111,
  2  	     TO_DATE ('12/02/1991', 'mm/dd/yyyy'), 75000, NULL, 10, 2);

1 row created.

SQL> INSERT INTO employee VALUES (433, 'McCall', 'Alex', 3, 543,
  2  	     TO_DATE ('05/10/1997', 'mm/dd/yyyy'), 66500, NULL, 20, 4);

1 row created.

SQL> INSERT INTO employee VALUES (543, 'Dev', 'Derek', 2, 111,
  2  	     TO_DATE ('03/15/1995', 'mm/dd/yyyy'), 80000, 20000, 20, 1);

1 row created.

SQL> INSERT INTO employee VALUES (200, 'Shaw', 'Jinku', 5, 135,
  2  	     TO_DATE ('01/03/00', 'mm/dd/yy'), 24500, 3000, 30, NULL);

1 row created.

SQL> INSERT INTO employee VALUES (135, 'Garner', 'Stanley', 2, 111,
  2  	     TO_DATE ('02/29/1996', 'mm/dd/yyyy'), 45000, 5000, 30, 5);

1 row created.

SQL> INSERT INTO employee VALUES (222, 'Chen', 'Sunny', 4, 123,
  2  	     TO_DATE ('08/15/1999', 'mm/dd/yyyy'), 35000, NULL, 10, 3);

1 row created.

SQL> 
SQL> INSERT INTO dependent VALUES (543, 1, TO_DATE ('09/28/1958', 'mm/dd/yyyy'),
  2  					     'Spouse');

1 row created.

SQL> INSERT INTO dependent VALUES (543, 2, TO_DATE ('10/14/1988', 'mm/dd/yyyy'),
  2  					     'Son');

1 row created.

SQL> INSERT INTO dependent VALUES (200, 1, TO_DATE ('06/10/1976', 'mm/dd/yyyy'),
  2  					     'Spouse');

1 row created.

SQL> INSERT INTO dependent VALUES (222, 1, TO_DATE ('02/04/1975', 'mm/dd/yyyy'),
  2  					     'Spouse');

1 row created.

SQL> INSERT INTO dependent VALUES (222, 2, TO_DATE ('08/23/1997', 'mm/dd/yyyy'),
  2  					     'Son');

1 row created.

SQL> INSERT INTO dependent VALUES (222, 3, TO_DATE ('07/10/1999', 'mm/dd/yyyy'),
  2  					     'Daughter');

1 row created.

SQL> INSERT INTO dependent VALUES (111, 1, TO_DATE ('12/12/1945', 'mm/dd/yyyy'),
  2  					     'Spouse');

1 row created.

SQL> 
SQL> ALTER TABLE dept
  2  ADD CONSTRAINT dept_employeeid_fk FOREIGN KEY(EmployeeId)
  3  	     REFERENCES employee(EmployeeId);

Table altered.

SQL> 
SQL> ALTER TABLE employee
  2  ADD CONSTRAINT employee_supervisor_fk FOREIGN KEY(Supervisor)
  3  	     REFERENCES employee(EmployeeId);

Table altered.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> --Question 1:
SQL> 
SQL> SELECT EMPLOYEEID, LNAME, FNAME, DEPTID,
  2  (SELECT AVG(SALARY)
  3  FROM EMPLOYEE E2
  4  WHERE E2.DEPTID = E1.DEPTID)
  5  AS "Dept Salary Avg"
  6  FROM EMPLOYEE E1;

EMPLOYEEID LNAME           FNAME               DEPTID Dept Salary Avg                                                                                                                                   
---------- --------------- --------------- ---------- ---------------                                                                                                                                   
       111 Smith           John                    10          125000                                                                                                                                   
       246 Houston         Larry                   40          150000                                                                                                                                   
       123 Roberts         Sandi                   10          125000                                                                                                                                   
       433 McCall          Alex                    20           73250                                                                                                                                   
       543 Dev             Derek                   20           73250                                                                                                                                   
       200 Shaw            Jinku                   30           34750                                                                                                                                   
       135 Garner          Stanley                 30           34750                                                                                                                                   
       222 Chen            Sunny                   10          125000                                                                                                                                   

8 rows selected.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> --Question 2:
SQL> 
SQL> SELECT EMPLOYEEID, LNAME, FNAME, SALARY, DEPTID
  2  FROM EMPLOYEE E
  3  WHERE SALARY > (SELECT AVG(SALARY)
  4                  FROM EMPLOYEE
  5  WHERE DEPTID = E.DEPTID);

EMPLOYEEID LNAME           FNAME               SALARY     DEPTID                                                                                                                                        
---------- --------------- --------------- ---------- ----------                                                                                                                                        
       111 Smith           John                265000         10                                                                                                                                        
       543 Dev             Derek                80000         20                                                                                                                                        
       135 Garner          Stanley              45000         30                                                                                                                                        

SQL> 
SQL> 
SQL> 
SQL> DISCONNECT;
Disconnected from Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> CONNECT hr/hr;
Connected.
SQL> SET LINESIZE 200;
SQL> SET PAGESIZE 40;
SQL> SET ECHO ON;
SQL> 
SQL> 
SQL> 
SQL> 
SQL> --Question 3:
SQL> 
SQL> SELECT FIRST_NAME, LAST_NAME,
  2  (SELECT DEPARTMENT_NAME
  3  FROM DEPARTMENTS D
  4  WHERE D.DEPARTMENT_ID = E.DEPARTMENT_ID)
  5  AS "Department Name"
  6  FROM EMPLOYEES E;

FIRST_NAME           LAST_NAME                 Department Name                                                                                                                                          
-------------------- ------------------------- ------------------------------                                                                                                                           
Steven               King                      Executive                                                                                                                                                
Neena                Kochhar                   Executive                                                                                                                                                
Lex                  De Haan                   Executive                                                                                                                                                
Alexander            Hunold                    IT                                                                                                                                                       
Bruce                Ernst                     IT                                                                                                                                                       
David                Austin                    IT                                                                                                                                                       
Valli                Pataballa                 IT                                                                                                                                                       
Diana                Lorentz                   IT                                                                                                                                                       
Nancy                Greenberg                 Finance                                                                                                                                                  
Daniel               Faviet                    Finance                                                                                                                                                  
John                 Chen                      Finance                                                                                                                                                  
Ismael               Sciarra                   Finance                                                                                                                                                  
Jose Manuel          Urman                     Finance                                                                                                                                                  
Luis                 Popp                      Finance                                                                                                                                                  
Den                  Raphaely                  Purchasing                                                                                                                                               
Alexander            Khoo                      Purchasing                                                                                                                                               
Shelli               Baida                     Purchasing                                                                                                                                               
Sigal                Tobias                    Purchasing                                                                                                                                               
Guy                  Himuro                    Purchasing                                                                                                                                               
Karen                Colmenares                Purchasing                                                                                                                                               
Matthew              Weiss                     Shipping                                                                                                                                                 
Adam                 Fripp                     Shipping                                                                                                                                                 
Payam                Kaufling                  Shipping                                                                                                                                                 
Shanta               Vollman                   Shipping                                                                                                                                                 
Kevin                Mourgos                   Shipping                                                                                                                                                 
Julia                Nayer                     Shipping                                                                                                                                                 
Irene                Mikkilineni               Shipping                                                                                                                                                 
James                Landry                    Shipping                                                                                                                                                 
Steven               Markle                    Shipping                                                                                                                                                 
Laura                Bissot                    Shipping                                                                                                                                                 
Mozhe                Atkinson                  Shipping                                                                                                                                                 
James                Marlow                    Shipping                                                                                                                                                 
TJ                   Olson                     Shipping                                                                                                                                                 
Jason                Mallin                    Shipping                                                                                                                                                 
Michael              Rogers                    Shipping                                                                                                                                                 
Ki                   Gee                       Shipping                                                                                                                                                 
Hazel                Philtanker                Shipping                                                                                                                                                 

FIRST_NAME           LAST_NAME                 Department Name                                                                                                                                          
-------------------- ------------------------- ------------------------------                                                                                                                           
Renske               Ladwig                    Shipping                                                                                                                                                 
Stephen              Stiles                    Shipping                                                                                                                                                 
John                 Seo                       Shipping                                                                                                                                                 
Joshua               Patel                     Shipping                                                                                                                                                 
Trenna               Rajs                      Shipping                                                                                                                                                 
Curtis               Davies                    Shipping                                                                                                                                                 
Randall              Matos                     Shipping                                                                                                                                                 
Peter                Vargas                    Shipping                                                                                                                                                 
John                 Russell                   Sales                                                                                                                                                    
Karen                Partners                  Sales                                                                                                                                                    
Alberto              Errazuriz                 Sales                                                                                                                                                    
Gerald               Cambrault                 Sales                                                                                                                                                    
Eleni                Zlotkey                   Sales                                                                                                                                                    
Peter                Tucker                    Sales                                                                                                                                                    
David                Bernstein                 Sales                                                                                                                                                    
Peter                Hall                      Sales                                                                                                                                                    
Christopher          Olsen                     Sales                                                                                                                                                    
Nanette              Cambrault                 Sales                                                                                                                                                    
Oliver               Tuvault                   Sales                                                                                                                                                    
Janette              King                      Sales                                                                                                                                                    
Patrick              Sully                     Sales                                                                                                                                                    
Allan                McEwen                    Sales                                                                                                                                                    
Lindsey              Smith                     Sales                                                                                                                                                    
Louise               Doran                     Sales                                                                                                                                                    
Sarath               Sewall                    Sales                                                                                                                                                    
Clara                Vishney                   Sales                                                                                                                                                    
Danielle             Greene                    Sales                                                                                                                                                    
Mattea               Marvins                   Sales                                                                                                                                                    
David                Lee                       Sales                                                                                                                                                    
Sundar               Ande                      Sales                                                                                                                                                    
Amit                 Banda                     Sales                                                                                                                                                    
Lisa                 Ozer                      Sales                                                                                                                                                    
Harrison             Bloom                     Sales                                                                                                                                                    
Tayler               Fox                       Sales                                                                                                                                                    
William              Smith                     Sales                                                                                                                                                    
Elizabeth            Bates                     Sales                                                                                                                                                    
Sundita              Kumar                     Sales                                                                                                                                                    

FIRST_NAME           LAST_NAME                 Department Name                                                                                                                                          
-------------------- ------------------------- ------------------------------                                                                                                                           
Ellen                Abel                      Sales                                                                                                                                                    
Alyssa               Hutton                    Sales                                                                                                                                                    
Jonathon             Taylor                    Sales                                                                                                                                                    
Jack                 Livingston                Sales                                                                                                                                                    
Kimberely            Grant                                                                                                                                                                              
Charles              Johnson                   Sales                                                                                                                                                    
Winston              Taylor                    Shipping                                                                                                                                                 
Jean                 Fleaur                    Shipping                                                                                                                                                 
Martha               Sullivan                  Shipping                                                                                                                                                 
Girard               Geoni                     Shipping                                                                                                                                                 
Nandita              Sarchand                  Shipping                                                                                                                                                 
Alexis               Bull                      Shipping                                                                                                                                                 
Julia                Dellinger                 Shipping                                                                                                                                                 
Anthony              Cabrio                    Shipping                                                                                                                                                 
Kelly                Chung                     Shipping                                                                                                                                                 
Jennifer             Dilly                     Shipping                                                                                                                                                 
Timothy              Gates                     Shipping                                                                                                                                                 
Randall              Perkins                   Shipping                                                                                                                                                 
Sarah                Bell                      Shipping                                                                                                                                                 
Britney              Everett                   Shipping                                                                                                                                                 
Samuel               McCain                    Shipping                                                                                                                                                 
Vance                Jones                     Shipping                                                                                                                                                 
Alana                Walsh                     Shipping                                                                                                                                                 
Kevin                Feeney                    Shipping                                                                                                                                                 
Donald               OConnell                  Shipping                                                                                                                                                 
Douglas              Grant                     Shipping                                                                                                                                                 
Jennifer             Whalen                    Administration                                                                                                                                           
Michael              Hartstein                 Marketing                                                                                                                                                
Pat                  Fay                       Marketing                                                                                                                                                
Susan                Mavris                    Human Resources                                                                                                                                          
Hermann              Baer                      Public Relations                                                                                                                                         
Shelley              Higgins                   Accounting                                                                                                                                               
William              Gietz                     Accounting                                                                                                                                               

107 rows selected.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> --Question 4:
SQL> 
SQL> SELECT DEPARTMENT_ID, DEPARTMENT_NAME,
  2  (SELECT FIRST_NAME ||' '|| LAST_NAME
  3  FROM EMPLOYEES E
  4  WHERE E.EMPLOYEE_ID = D.MANAGER_ID)
  5  AS "Manager"
  6  FROM DEPARTMENTS D;

DEPARTMENT_ID DEPARTMENT_NAME                Manager                                                                                                                                                    
------------- ------------------------------ ----------------------------------------------                                                                                                             
           10 Administration                 Jennifer Whalen                                                                                                                                            
           20 Marketing                      Michael Hartstein                                                                                                                                          
           30 Purchasing                     Den Raphaely                                                                                                                                               
           40 Human Resources                Susan Mavris                                                                                                                                               
           50 Shipping                       Adam Fripp                                                                                                                                                 
           60 IT                             Alexander Hunold                                                                                                                                           
           70 Public Relations               Hermann Baer                                                                                                                                               
           80 Sales                          John Russell                                                                                                                                               
           90 Executive                      Steven King                                                                                                                                                
          100 Finance                        Nancy Greenberg                                                                                                                                            
          110 Accounting                     Shelley Higgins                                                                                                                                            
          120 Treasury                                                                                                                                                                                  
          130 Corporate Tax                                                                                                                                                                             
          140 Control And Credit                                                                                                                                                                        
          150 Shareholder Services                                                                                                                                                                      
          160 Benefits                                                                                                                                                                                  
          170 Manufacturing                                                                                                                                                                             
          180 Construction                                                                                                                                                                              
          190 Contracting                                                                                                                                                                               
          200 Operations                                                                                                                                                                                
          210 IT Support                                                                                                                                                                                
          220 NOC                                                                                                                                                                                       
          230 IT Helpdesk                                                                                                                                                                               
          240 Government Sales                                                                                                                                                                          
          250 Retail Sales                                                                                                                                                                              
          260 Recruiting                                                                                                                                                                                
          270 Payroll                                                                                                                                                                                   

27 rows selected.

SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> SPOOL OFF;
